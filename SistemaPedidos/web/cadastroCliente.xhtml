<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             template="template.xhtml"
             xmlns:sc="http://xmlns.jcp.org/jsf/composite/sccomp"> 
             
             <h:form>
       
             <p:fieldset legend ="Cadastro de Cliente">
                <p:panelGrid columns="2" rendered="#{clientesBean.busca == false}" style="align-content: center" >
                <h:outputLabel value="Nome"/> 
                <h:inputText value="#{clientesBean.entidade.nome}"></h:inputText>
                <h:outputLabel value="Sobrenome"/> 
                <h:inputText value="#{clientesBean.entidade.sobrenome}"></h:inputText>
                <h:outputLabel value="Endereço"/> 
                <h:inputText value="#{clientesBean.entidade.endereco}"></h:inputText>
                <h:outputLabel value="Email"/>
                <h:inputText value="#{clientesBean.entidade.email}"></h:inputText>
                <h:outputLabel for="tel" value="Telefone"></h:outputLabel> 
                <p:inputMask id="tel" value="#{clientesBean.entidade.telefone}" mask="(99) 99999-9999"></p:inputMask>
                
                </p:panelGrid>  
              <p:fieldset>
                  <sc:toolbarCrud CrudBean="#{clientesBean}"></sc:toolbarCrud>
                    <p:messages autoUpdate="true" showDetail="true"></p:messages>
              </p:fieldset>
           
            <p:dataTable value="#{clientesBean.entidades}" var="cliente" rendered="#{clientesBean.busca == true}">
                <p:column>
                    <p:commandButton value="editar" action="#{clientesBean.editar(cliente)}" update="@form"></p:commandButton>
                    <p:commandButton value="deletar" action="#{clientesBean.deletar(cliente)}" update="@form"></p:commandButton>
                </p:column>
                <p:column headerText="Cliente">
                    <h:outputText value="#{cliente.nome}"></h:outputText>
                </p:column>
                <p:column headerText="Sobrenome">
                    <h:outputText value="#{cliente.sobrenome}"></h:outputText>
                </p:column>
                <p:column headerText="Email">
                    <h:outputText value="#{cliente.email}"></h:outputText>
                </p:column>
                <p:column headerText="Endereço">
                    <h:outputText value="#{cliente.endereco}"></h:outputText>
                </p:column>
                <p:column headerText="Telefone">
                    <h:outputText value="#{cliente.telefone}"></h:outputText>
                </p:column>
                
            </p:dataTable>
        </p:fieldset>
    </h:form>
</ui:decorate>

